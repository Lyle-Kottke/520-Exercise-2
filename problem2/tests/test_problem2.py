import io
import importlib
import pytest
import signal

import sys, os
sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), "..")))


#load the benchmark data
#original tests
input_output={   "inputs": [     "3 2  ",     "1 3  ",     "4 3  ",     "1000000000000000000 1000000000000000000  ",     "59 576460752303423489  ",     "1234567891234 100005  ",     "2 4  ",     "59 576460752303423488  ",     "2016 2016  ",     "2016 2017  ",     "468804735183774830 244864585447548924  ",     "172714899512474455 414514930706102803  ",     "876625063841174080 360793239109880865  ",     "70181875975239647 504898544415017211  ",     "364505998666117889 208660487087853057  ",     "648371335753080490 787441  ",     "841928147887146057 620004  ",     "545838312215845682 715670  ",     "473120513399321115 489435  ",     "17922687587622540 3728  ",     "211479504016655403 861717213151744108  ",     "718716873663426516 872259572564867078  ",     "422627037992126141 41909917823420958  ",     "616183854421159004 962643186273781485  ",     "160986032904427725 153429  ",     "88268234087903158 290389  ",     "58453009367192916 164246  ",     "565690379013964030 914981  ",     "269600543342663655 10645  ",     "37774758680708184 156713778825283978  ",     "231331570814773750 77447051570611803  ",     "935241735143473375 247097392534198386  ",     "639151895177205704 416747737792752265  ",     "412663884364501543 401745061547424998  ",     "180838095407578776 715935  ",     "884748259736278401 407112  ",     "78305076165311264 280970  ",     "782215240494010889 417929  ",     "486125404822710514 109107  ",     "57626821183859235 372443612949184377  ",     "27811605053083586 516548918254320722  ",     "955093801941591723 462827230953066080  ",     "659003966270291348 426245  ",     "852560778404356914 258808  ",     "397362961182592931 814397  ",     "904600330829364045 969618  ",     "98157142963429612 169605644318211774  ",     "802067302997161941 115883952721989836  ",     "505977467325861565 285534302275511011  ",     "274151686958873391 747281437213482980  ",     "467708499092938957 59762  ",     "751573831884934263 851791  ",     "455483991918666592 947456  ",     "649040812642666750 821314  ",     "417215023685743983 376900  ",     "121125188014443608 400338158982406735  ",     "314682004443476471 544443468582510377  ",     "821919374090247584 554985827995633347  ",     
"525829538418947209 501264136399411409  ",     "426597183791521709 928925  ",     "620154000220554572 802783  ",     "324064160254286900 898448  ",     "831301534196025310 690475  ",   
  "24858346330090877 523038  ",     "569660524813359598 814752357830129986  ",     "496942725996835031 761030666233908048  ",     "467127505571092085 905135971539044394  ",     "394409702459600222 851414284237789752  ",     "703820075205013062 862025309890418636  ",     "471994290543057591 972026  ",     "665551106972090453 845883  ",     "369461267005822782 537061  ",     "73371431334522407 674020  ",     "266928247763555270 547878  ",     "615057631564895479 807178821338760482  ",     "318967795893595104 976829166597314361  ",     "512524612322627967 897562435047674890  ",     "216434772356360296 67212780306228770  ",     "13491088710006829 715337619732144903  ",     "688519152023104450 70486  ",     "685403173770208801 962607  ",  
   "389313338098908426 99564  ",     "93223502427608051 790744  ",     "286780314561673617 664601  ",     "831582488749975043 182016637013124494  ",     "758864689933450475 128294949711869852  ",     "532376674825779019 113292273466542585  ",     "236286839154478644 282942618725096464  ",     "940197003483178269 77403  ",     "708371214526255502 632992  ",     "901928035250255660 465555  ",     "605838195283987989 198026  ",     "15266076338626979 913942576088954168  ",     "83260344505016157 935999340494020219  ",     "851434559843060686 397746475431992189  ",     "555344724171760311 567396824985513364  ",     "748901536305825878 347728  ",     "452811696339558207 443394  ",     "960049070281296616 235421  ",     "728223285619341145 791009  ",     "698408060898630904 50803201495883240  ",     "625690262082106337 220453546754437119  ",     "329600422115838666 166731855158215181  ",     "523157242839838824 310837164758318823  ",     "871286622346211738 836848346410668404  ",     "575196786674911363 36374  ",     "768753603103944226 868940  ",     "472663767432643850 601411  ",     "176573931761343475 697077  ",     "301399940652446487 937011639371661304  ",     "494956757081479349 760223  ",     "198866921410178974 492694  ",     "902777085738878599 348432  ",     "96333897872944166 462217  ",     "864508113210988695 17803  ",     "371745482857759808 590068361140585059  ",     "341930258137049567 734173670740688701  ",     "269212459320525000 680451979144466763  ",     "973122623649224625 850102328697987938  ",     "517924802132493346 67413  ",     "711481618561526208 858685  ",     "218718983913330026 55198  ",     "922629148242029651 787671  ",     "116185964671062513 620234  ",     "884360180009107043 795255840146329784  ",     "588270344337806667 964906185404883662  ",     "781827160766839530 885639453855244191  ",     "91237529217285074 672878442653097259  ",     "859411744555329603 932262  ",     "563321908884029228 664734  ",     "756878725313062090 497297  ",     "460788885346794419 634257  ",     "164699049675494044 325434  ",     "500001 1000002  ",     "1000003 1000002  ",     "1000002 1000003  ",     "1000002 1000003  ",     "1000002 1000002  ",     "500001 1000003  "   ],   "outputs": [     "1 8",     "1 1",     "23 128",     "906300 906300",     "1 1",     "173817 722464",     "29 32",     "840218 840218",     "1564 227035",     "360153 815112",     "365451 365451",     "626500 626500",     "34117 34117",     "79176 79176",     "83777 83777",     "228932 228932",     "151333 51640",     "156176 156176",     "57896 535051",     "478998 792943",     "196797 196797",     "401470 401470",     "268735 268735",     "149006 149006",     "100374 100374",     "566668 88331",     "317900 341568",     "547343 547343",     "913809 282202",     "73122 73122",     "578654 578654",     "181888 181888",     "135045 135045",     "228503 228503",     "378695 378695",     "25714 811489",     "293282 624669",     "665887 270857",     "832669 164722",     "802451 802451",     "894732 894732",     "999170 999170",     "795318 278062",     "775128 775128",     "155345 155345",     "245893 245893",     "409023 409023",     "928705 928705",     "782797 782797",     "977029 977029",     "283212 204310",     "905743 905743",     "570626 570626",     "57323 57323",     "122689 122689",     "199488 199488",     "279665 279665",     "854880 854880",     "715564 715564",     "835709 835709",     "163153 163153",     "18338 18338",     "964028 964028",     "5846 5846",     "780635 780635",     "746587 746587",     "608084 608084",     "419420 419420",     "982260 982260",     "215668 215668",     "623684 623684",     "97003 97003",     "899111 372106",     "817352 54712",     "52078 52078",     "750015 750015",     "614855 614855",     "995572 995572",     "719453 719453",     "476402 371144",     "135409 135409",     "205907 386429",     "983387 983387",     "654850 654850",     "159828 159828",     "37325 37325",     "36122 36122",     "187677 187677",     "119089 181418",     "615316 615316",     "586380 781987",     "929969 156402",     "506165 506165",     "138293 138293",     "314138 314138",     "666610 666610",     "80599 80599",     "474530 348263",     "274784 325200",     "764528 274644",     "750308 750308",     "741435 741435",     "242921 242921",     "726051 726051",     "530710 530710",     "88076 806040",     "118118 118118",     "203104 203104",     "389281 749563",     "165989 165989",     "586955 423513",     "847137 847137",     "396798 564327",     "367832 367832",     "107443 838933",     "748215 748215",     "21530 21530",     "868951 868951",     
"781676 781676",     "954073 995488",     "929035 929035",     "99469 89622",     "164442 164442",     "798435 622171",     "541758 541758",     "544853 544853",     "627074 627074",    
 "988072 988072",     "859175 859175",     "883734 883734",     "641345 641345",     "660266 660266",     "170498 994561",     "998979 999491",     "256 256",     "256 256",     "256 256",     "512 512",     "256 256"   ] }

#appended to tests
'''
input_output={   "inputs": [  "62 2","20 1000006","10 0",   "3 2  ",     "1 3  ",     "4 3  ",     "1000000000000000000 1000000000000000000  ",     "59 576460752303423489  ",     "1234567891234 100005  ",     "2 4  ",     "59 576460752303423488  ",     "2016 2016  ",     "2016 2017  ",     "468804735183774830 244864585447548924  ",     "172714899512474455 414514930706102803  ",     "876625063841174080 360793239109880865  ",     "70181875975239647 504898544415017211  ",     "364505998666117889 208660487087853057  ",     "648371335753080490 787441  ",     "841928147887146057 620004  ",     "545838312215845682 715670  ",     "473120513399321115 489435  ",     "17922687587622540 3728  ",     "211479504016655403 861717213151744108  ",     "718716873663426516 872259572564867078  ",     "422627037992126141 41909917823420958  ",     "616183854421159004 962643186273781485  ",     "160986032904427725 153429  ",     "88268234087903158 290389  ",     "58453009367192916 164246  ",     "565690379013964030 914981  ",     "269600543342663655 10645  ",     "37774758680708184 156713778825283978  ",     "231331570814773750 77447051570611803  ",     "935241735143473375 247097392534198386  ",     "639151895177205704 416747737792752265  ",     "412663884364501543 401745061547424998  ",     "180838095407578776 715935  ",     "884748259736278401 407112  ",     "78305076165311264 280970  ",     "782215240494010889 417929  ",     "486125404822710514 109107  ",     "57626821183859235 372443612949184377  ",     "27811605053083586 516548918254320722  ",     "955093801941591723 462827230953066080  ",     "659003966270291348 426245  ",     "852560778404356914 258808  ",     "397362961182592931 814397  ",     "904600330829364045 969618  ",     "98157142963429612 169605644318211774  ",     "802067302997161941 115883952721989836  ",     "505977467325861565 285534302275511011  ",     "274151686958873391 747281437213482980  ",     "467708499092938957 59762  ",     "751573831884934263 851791  ",     "455483991918666592 947456  ",     "649040812642666750 821314  ",     "417215023685743983 376900  ",     "121125188014443608 400338158982406735  ",     "314682004443476471 544443468582510377  ",     "821919374090247584 554985827995633347  ",     
"525829538418947209 501264136399411409  ",     "426597183791521709 928925  ",     "620154000220554572 802783  ",     "324064160254286900 898448  ",     "831301534196025310 690475  ",   
  "24858346330090877 523038  ",     "569660524813359598 814752357830129986  ",     "496942725996835031 761030666233908048  ",     "467127505571092085 905135971539044394  ",     "394409702459600222 851414284237789752  ",     "703820075205013062 862025309890418636  ",     "471994290543057591 972026  ",     "665551106972090453 845883  ",     "369461267005822782 537061  ",     "73371431334522407 674020  ",     "266928247763555270 547878  ",     "615057631564895479 807178821338760482  ",     "318967795893595104 976829166597314361  ",     "512524612322627967 897562435047674890  ",     "216434772356360296 67212780306228770  ",     "13491088710006829 715337619732144903  ",     "688519152023104450 70486  ",     "685403173770208801 962607  ",  
   "389313338098908426 99564  ",     "93223502427608051 790744  ",     "286780314561673617 664601  ",     "831582488749975043 182016637013124494  ",     "758864689933450475 128294949711869852  ",     "532376674825779019 113292273466542585  ",     "236286839154478644 282942618725096464  ",     "940197003483178269 77403  ",     "708371214526255502 632992  ",     "901928035250255660 465555  ",     "605838195283987989 198026  ",     "15266076338626979 913942576088954168  ",     "83260344505016157 935999340494020219  ",     "851434559843060686 397746475431992189  ",     "555344724171760311 567396824985513364  ",     "748901536305825878 347728  ",     "452811696339558207 443394  ",     "960049070281296616 235421  ",     "728223285619341145 791009  ",     "698408060898630904 50803201495883240  ",     "625690262082106337 220453546754437119  ",     "329600422115838666 166731855158215181  ",     "523157242839838824 310837164758318823  ",     "871286622346211738 836848346410668404  ",     "575196786674911363 36374  ",     "768753603103944226 868940  ",     "472663767432643850 601411  ",     "176573931761343475 697077  ",     "301399940652446487 937011639371661304  ",     "494956757081479349 760223  ",     "198866921410178974 492694  ",     "902777085738878599 348432  ",     "96333897872944166 462217  ",     "864508113210988695 17803  ",     "371745482857759808 590068361140585059  ",     "341930258137049567 734173670740688701  ",     "269212459320525000 680451979144466763  ",     "973122623649224625 850102328697987938  ",     "517924802132493346 67413  ",     "711481618561526208 858685  ",     "218718983913330026 55198  ",     "922629148242029651 787671  ",     "116185964671062513 620234  ",     "884360180009107043 795255840146329784  ",     "588270344337806667 964906185404883662  ",     "781827160766839530 885639453855244191  ",     "91237529217285074 672878442653097259  ",     "859411744555329603 932262  ",     "563321908884029228 664734  ",     "756878725313062090 497297  ",     "460788885346794419 634257  ",     "164699049675494044 325434  ",     "500001 1000002  ",     "1000003 1000002  ",     "1000002 1000003  ",     "1000002 1000003  ",     "1000002 1000002  ",     "500001 1000003  "   ], 
       "outputs": [    "1 405101", "155000 155000","1 1", "1 8",     "1 1",     "23 128",     "906300 906300",     "1 1",     "173817 722464",     "29 32",     "840218 840218",     "1564 227035",     "360153 815112",     "365451 365451",     "626500 626500",     "34117 34117",     "79176 79176",     "83777 83777",     "228932 228932",     "151333 51640",     "156176 156176",     "57896 535051",     "478998 792943",     "196797 196797",     "401470 401470",     "268735 268735",     "149006 149006",     "100374 100374",     "566668 88331",     "317900 341568",     "547343 547343",     "913809 282202",     "73122 73122",     "578654 578654",     "181888 181888",     "135045 135045",     "228503 228503",     "378695 378695",     "25714 811489",     "293282 624669",     "665887 270857",     "832669 164722",     "802451 802451",     "894732 894732",     "999170 999170",     "795318 278062",     "775128 775128",     "155345 155345",     "245893 245893",     "409023 409023",     "928705 928705",     "782797 782797",     "977029 977029",     "283212 204310",     "905743 905743",     "570626 570626",     "57323 57323",     "122689 122689",     "199488 199488",     "279665 279665",     "854880 854880",     "715564 715564",     "835709 835709",     "163153 163153",     "18338 18338",     "964028 964028",     "5846 5846",     "780635 780635",     "746587 746587",     "608084 608084",     "419420 419420",     "982260 982260",     "215668 215668",     "623684 623684",     "97003 97003",     "899111 372106",     "817352 54712",     "52078 52078",     "750015 750015",     "614855 614855",     "995572 995572",     "719453 719453",     "476402 371144",     "135409 135409",     "205907 386429",     "983387 983387",     "654850 654850",     "159828 159828",     "37325 37325",     "36122 36122",     "187677 187677",     "119089 181418",     "615316 615316",     "586380 781987",     "929969 156402",     "506165 506165",     "138293 138293",     "314138 314138",     "666610 666610",     "80599 80599",     "474530 348263",     "274784 325200",     "764528 274644",     "750308 750308",     "741435 741435",     "242921 242921",     "726051 726051",     "530710 530710",     "88076 806040",     "118118 118118",     "203104 203104",     "389281 749563",     "165989 165989",     "586955 423513",     "847137 847137",     "396798 564327",     "367832 367832",     "107443 838933",     "748215 748215",     "21530 21530",     "868951 868951",     
"781676 781676",     "954073 995488",     "929035 929035",     "99469 89622",     "164442 164442",     "798435 622171",     "541758 541758",     "544853 544853",     "627074 627074",    
 "988072 988072",     "859175 859175",     "883734 883734",     "641345 641345",     "660266 660266",     "170498 994561",     "998979 999491",     "256 256",     "256 256",     "256 256",     "512 512",     "256 256"   ] }
'''
    

#test functions
@pytest.mark.parametrize("input_str,expected_output", zip(input_output["inputs"], input_output["outputs"]))
def test_problem_dynamic(monkeypatch, capsys, input_str, expected_output):
    
    def test(solution):
      args = input_str.split()
      parsed_args = []
      for a in args:
          parsed_args.append(int(a))

      sol = solution.solve(*parsed_args)

      result = str(expected_output)
      result = tuple(map(int, expected_output.split()))
      assert sol == result

    test(importlib.import_module("solutions.solution1"))
    #test(importlib.import_module("solutions.solution2"))
    test(importlib.import_module("solutions.solution3"))
    test(importlib.import_module("solutions.solution4"))